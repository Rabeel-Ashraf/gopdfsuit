<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{.title}}</title>
    <link rel="stylesheet" href="/static/css/viewer.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js"></script>
  </head>
  <body class="theme-dark">
    <header class="header">
      <div class="container">
        <h1>📄 GoPdfSuit - PDF Viewer</h1>
        <p class="subtitle">Template-based PDF generation and preview</p>
      </div>
    </header>

    <main class="main-content">
      <div class="container">
        <div class="input-section">
          <label for="fileInput">JSON Template File:</label>
          <input
            type="text"
            id="fileInput"
            placeholder="Enter filename (e.g., temp.json)"
          />
          <button id="loadBtn" class="btn-primary">Load Template</button>
          <button id="generateBtn" class="btn-secondary" disabled>
            Generate PDF
          </button>
          <div class="theme-controls">
            <button
              id="themeToggle"
              class="btn-small"
              title="Toggle Light/Dark"
            >
              🌞
            </button>
            <select
              id="gradientSelect"
              class="gradient-select"
              title="Select Gradient Theme"
            ></select>
          </div>
          <button id="applyJsonBtn" class="btn-small" disabled>
            Apply JSON Changes
          </button>
        </div>

        <div class="content-grid">
          <div class="json-panel">
            <div class="panel-header">
              <h3>📋 JSON Template (Editable)</h3>
              <button id="copyBtn" class="btn-small" title="Copy JSON">
                📋
              </button>
            </div>
            <div class="json-container">
              <pre
                id="jsonDisplay"
              ><code id="jsonCode" class="language-json" contenteditable="true" spellcheck="false">// Load a template to see JSON structure...</code></pre>
            </div>
          </div>

          <div class="pdf-panel">
            <div class="panel-header">
              <h3>📄 PDF Preview</h3>
              <div class="pdf-controls">
                <button id="prevPage" class="btn-small" disabled>◀</button>
                <span id="pageInfo">Page 1 of 1</span>
                <button id="nextPage" class="btn-small" disabled>▶</button>
                <button
                  id="downloadBtn"
                  class="btn-small"
                  disabled
                  title="Download PDF"
                >
                  ⬇️
                </button>
              </div>
            </div>
            <div class="pdf-container">
              <canvas id="pdfCanvas"></canvas>
              <div id="loadingIndicator" class="loading">PDF not loaded...</div>
              <div id="errorIndicator" class="error" style="display: none">
                Failed to load PDF
              </div>
            </div>
          </div>
        </div>

        <div class="status-bar">
          <span id="statusMessage"
            >Ready - Enter a filename to load template</span
          >
        </div>
      </div>
    </main>

    <footer class="footer">
      <div class="container">
        <p>
          Made with ❤️ by
          <a href="https://github.com/chinmay-sawant">Chinmay Sawant</a> |
          <a href="https://github.com/chinmay-sawant/gopdfsuit"
            >GitHub Repository</a
          >
        </p>
      </div>
    </footer>

    <script src="/static/js/viewer.js"></script>
  </body>
</html>
